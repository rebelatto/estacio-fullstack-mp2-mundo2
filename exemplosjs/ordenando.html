<!DOCTYPE html>
<html lang="pt-br">

	<head>
		<meta charset="UTF-8">
		<!-- Responsividade -->
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		
		<!-- Estilos -->
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
		<link rel="stylesheet" type="text/css" href="style.css">

		<!-- Script -->
		<script src="./ordenando.js"></script>

		<title>Ordenando - Página Inicial</title>
	</head>

	<body>

		<header>
			<nav>
				<ul class="nav">
					<li class="nav-item">
						<a class="nav-link active" href="ordenando.html">Ordenando</a>
						<a class="nav-link active" href="ordenando.html">Receitas</a>
				</ul>
			</nav>
		</header>

		<main class="container">
			<h1>Ordenando Valores!</h1>
			<div class="container">
				<label>Valor</label>
				<input class="form-control col-4" type="text" id="valor">
				<button class="btn btn-primary col-1" onclick="add()">Adicionar</button>
				<hr>
				<select class="form-control col-4" id="ordenando">
					<option id="bubble_sort">Bubble Sort</option>
					<option id="selection_sort">Selection Sort</option>
					<option id="quick_sort">Quick Sort</option>
				</select>
				<div>
					<button class="btn btn-primary col-1" onclick="ordenar()">Ordenar</button>
					<button class="btn btn-primary col-1" onclick="misturar()">Misturar</button>
				</div>
				<hr>
				<ul id="valores">
			
				</ul>
			</div>
		</main>

		<footer> Missão Prática | Nível 2 | Mundo 2 - © Copyright 2023 </footer>
		
		<script>
			function add() {
				// Passo I - a
				var inputValor = document.getElementById("valor");
		
				// Passo I - b
				var listaValores = document.getElementById("valores");
		
				// Passo I - c
				var node = document.createElement("li");
		
				// Passo I - d
				var textNode = document.createTextNode(inputValor.value);
				node.appendChild(textNode);
		
				// Passo I - e
				listaValores.appendChild(node);
			}
		
			function ordenar() {
				
				var listaValores = document.getElementById("valores");
				var listaSelecao = document.getElementById("ordenando");

				var valoresArray = Array.from(listaValores.children).map(function (item) {
					return parseInt(item.innerHTML);
				});

				var algoritmoSelecionado = listaSelecao.options[listaSelecao.selectedIndex].text;
				switch (algoritmoSelecionado) {
					case "Bubble Sort":
						bubbleSort(valoresArray);
						break;
					case "Selection Sort":
						selectionSort(valoresArray);
						break;
					case "Quick Sort":
						quickSort(valoresArray);
						break;
					
				}

				var novosItens = valoresArray.map(function (valor) {
					var node = document.createElement("li");
					node.appendChild(document.createTextNode(valor));
					return node;
				});

				listaValores.innerHTML = "";
				novosItens.forEach(function (item) {
					listaValores.appendChild(item);
				});
			}
					
			function misturar() {
				// Passo a - Capturar a lista de valores
				var listaValores = document.getElementById("valores");

				// Passo b - Obter cada nó da lista de valores e adicionar o conteúdo convertido para inteiro em um vetor
				var valoresArray = Array.from(listaValores.children).map(function (item) {
					return parseInt(item.innerHTML);
				});

				// Passo d - Aplicar a função shuffle ao vetor
				shuffle(valoresArray, valoresArray.length);

				// Passo e - Utilizar os operadores map e reduce para gerar os novos itens da lista
				var novosItens = valoresArray.map(function (valor) {
					var node = document.createElement("li");
					node.appendChild(document.createTextNode(valor));
					return node;
				});

				// Substituir o conteúdo da lista via innerHTML
				listaValores.innerHTML = "";
				novosItens.forEach(function (item) {
					listaValores.appendChild(item);
				});
			}
			
		</script>
		

		<!-- Jquery, Popper, Bootstrap -->
		<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
	</body>
</html>
